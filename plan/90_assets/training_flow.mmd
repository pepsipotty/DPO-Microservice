graph TD
    subgraph "Configuration"
        Hydra[Hydra Config System]
        ModelConfig[Model Configs]
        LossConfig[Loss Configs]
        TrainConfig[Training Schema]
    end
    
    subgraph "Data Pipeline"
        DataInterface[Dataset Interface]
        Novalto[Novalto Implementation]
        Validation[Format Validation]
        ToyData[Toy Dataset Generator]
    end
    
    subgraph "Training Engine"
        Facade[Training Facade]
        DPOTrainer[DPO Trainer]
        Subprocess[Subprocess Fallback]
        Utils[Training Utils]
    end
    
    subgraph "Storage & Output"
        Firebase[Firebase Storage]
        Local[Local Storage]
        Artifacts[Training Artifacts]
        Models[Saved Models]
    end
    
    Hydra --> ModelConfig
    Hydra --> LossConfig
    Hydra --> TrainConfig
    
    DataInterface --> Novalto
    DataInterface --> Validation
    ToyData --> Novalto
    
    ModelConfig --> Facade
    LossConfig --> Facade
    TrainConfig --> Facade
    Novalto --> Facade
    
    Facade --> DPOTrainer
    Facade --> Subprocess
    DPOTrainer --> Utils
    
    DPOTrainer --> Firebase
    DPOTrainer --> Local
    Firebase --> Artifacts
    Local --> Models
    
    style Facade fill:#f3e5f5
    style DPOTrainer fill:#e1f5fe
    style Validation fill:#fff3e0
    style Firebase fill:#e8f5e8